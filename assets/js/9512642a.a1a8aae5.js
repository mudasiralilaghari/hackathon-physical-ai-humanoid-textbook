"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[781],{4364:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var r=i(4848),a=i(8453);const s={},t="Chapter 1.4: Parameters and Launch Systems",l={id:"module-1/chapter-1.4",title:"Chapter 1.4: Parameters and Launch Systems",description:"Introduction",source:"@site/docs/module-1/chapter-1.4.md",sourceDirName:"module-1",slug:"/module-1/chapter-1.4",permalink:"/hackathon-physical-ai-humanoid-textbook/module-1/chapter-1.4",draft:!1,unlisted:!1,editUrl:"https://github.com/mudasiralilaghari/hackathon-physical-ai-humanoid-textbook/tree/main/docs/module-1/chapter-1.4.md",tags:[],version:"current",frontMatter:{},sidebar:"textbookSidebar",previous:{title:"Chapter 1.3: Services and Actions",permalink:"/hackathon-physical-ai-humanoid-textbook/module-1/chapter-1.3"},next:{title:"Chapter 1.5: Debugging and Monitoring ROS 2",permalink:"/hackathon-physical-ai-humanoid-textbook/module-1/chapter-1.5"}},o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Why Configuration Matters",id:"why-configuration-matters",level:2},{value:"Flexibility and Adaptability",id:"flexibility-and-adaptability",level:3},{value:"Separation of Code and Configuration",id:"separation-of-code-and-configuration",level:3},{value:"Parameters Concept",id:"parameters-concept",level:2},{value:"Parameter Types",id:"parameter-types",level:3},{value:"Parameter Scope",id:"parameter-scope",level:3},{value:"Parameter Management",id:"parameter-management",level:3},{value:"Launch Files Purpose",id:"launch-files-purpose",level:2},{value:"Complex System Startup",id:"complex-system-startup",level:3},{value:"Launch File Components",id:"launch-file-components",level:3},{value:"Managing Complex Robots",id:"managing-complex-robots",level:2},{value:"Modular Design",id:"modular-design",level:3},{value:"Configuration Management",id:"configuration-management",level:3},{value:"Launch File Structure",id:"launch-file-structure",level:2},{value:"Basic Launch File Example",id:"basic-launch-file-example",level:3},{value:"Advanced Launch Features",id:"advanced-launch-features",level:3},{value:"Parameter Loading",id:"parameter-loading",level:4},{value:"Node Remapping",id:"node-remapping",level:4},{value:"Conditional Launch",id:"conditional-launch",level:4},{value:"Parameter Best Practices",id:"parameter-best-practices",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Parameter Declaration",id:"parameter-declaration",level:3},{value:"Configuration Organization",id:"configuration-organization",level:3},{value:"Launch System Best Practices",id:"launch-system-best-practices",level:2},{value:"Modularity",id:"modularity",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Documentation",id:"documentation",level:3},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Mobile Robot Launch System",id:"mobile-robot-launch-system",level:3},{value:"Humanoid Robot Configuration",id:"humanoid-robot-configuration",level:3},{value:"Learning Summary",id:"learning-summary",level:2},{value:"Self-Assessment Questions",id:"self-assessment-questions",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"chapter-14-parameters-and-launch-systems",children:"Chapter 1.4: Parameters and Launch Systems"}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"In this chapter, we'll explore two critical aspects of ROS 2 system management: parameters for configuration and launch systems for starting complex robotic systems. These tools enable you to manage robot behavior and coordinate the startup of multiple nodes effectively."}),"\n",(0,r.jsx)(n.h2,{id:"why-configuration-matters",children:"Why Configuration Matters"}),"\n",(0,r.jsx)(n.p,{children:"Robotic systems need to adapt to different environments, tasks, and operational requirements. Configuration management through parameters allows:"}),"\n",(0,r.jsx)(n.h3,{id:"flexibility-and-adaptability",children:"Flexibility and Adaptability"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environmental Changes"}),": Adjust robot behavior for different operating environments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Task Variations"}),": Modify robot parameters for different tasks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hardware Differences"}),": Configure for different robot platforms or sensor configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance Tuning"}),": Optimize system performance based on requirements"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"separation-of-code-and-configuration",children:"Separation of Code and Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Parameters separate:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logic"}),": The code that implements algorithms and behaviors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Values"}),": The specific values that control how the system behaves"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment"}),": Settings that depend on where and how the robot operates"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"parameters-concept",children:"Parameters Concept"}),"\n",(0,r.jsx)(n.p,{children:"Parameters in ROS 2 are named values that can be set at runtime to configure node behavior."}),"\n",(0,r.jsx)(n.h3,{id:"parameter-types",children:"Parameter Types"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 supports several parameter data types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integer"}),": Whole numbers (e.g., maximum speed, count values)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Double"}),": Decimal numbers (e.g., gains, distances, time values)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Boolean"}),": True/false values (e.g., enable/disable flags)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"String"}),": Text values (e.g., robot names, file paths)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lists"}),": Arrays of values (e.g., joint names, waypoint lists)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parameter-scope",children:"Parameter Scope"}),"\n",(0,r.jsx)(n.p,{children:"Parameters can be:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node-specific"}),": Apply only to a single node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Global"}),": Available to all nodes in the system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Private"}),": Internal to a node's implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parameter-management",children:"Parameter Management"}),"\n",(0,r.jsx)(n.p,{children:"Parameters can be:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Declared"}),": Nodes declare which parameters they accept"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Set"}),": Values assigned at runtime"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Updated"}),": Changed while the system is running"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Saved"}),": Preserved for future use"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"launch-files-purpose",children:"Launch Files Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Launch files allow you to start multiple nodes with a single command, along with their configurations."}),"\n",(0,r.jsx)(n.h3,{id:"complex-system-startup",children:"Complex System Startup"}),"\n",(0,r.jsx)(n.p,{children:"Instead of manually starting each node, launch files enable:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"One-Command Startup"}),": Start an entire robotic system with a single command"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration Integration"}),": Set parameters for multiple nodes simultaneously"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dependency Management"}),": Control the order in which nodes start"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Allocation"}),": Assign nodes to specific computers or cores"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"launch-file-components",children:"Launch File Components"}),"\n",(0,r.jsx)(n.p,{children:"Launch files typically include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node Definitions"}),": Specify which nodes to start"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameter Files"}),": Load configuration parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remappings"}),": Connect topics between nodes with different names"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conditions"}),": Start nodes based on conditions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),": Allow runtime customization of the launch file"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"managing-complex-robots",children:"Managing Complex Robots"}),"\n",(0,r.jsx)(n.p,{children:"Complex robotic systems often have dozens of nodes that must work together. Launch systems help manage this complexity:"}),"\n",(0,r.jsx)(n.h3,{id:"modular-design",children:"Modular Design"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Component Groups"}),": Organize nodes into functional groups"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reusable Configurations"}),": Create launch files for common robot configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hierarchical Launch"}),": Include one launch file in another for modularity"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment-Specific Settings"}),": Different launch files for lab, field, simulation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hardware Variations"}),": Adapt to different robot platforms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operational Modes"}),": Launch different sets of nodes for different operating modes"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"launch-file-structure",children:"Launch File Structure"}),"\n",(0,r.jsx)(n.h3,{id:"basic-launch-file-example",children:"Basic Launch File Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='navigation_package',\n            executable='path_planner',\n            name='path_planner',\n            parameters=['config/path_planner.yaml']\n        ),\n        Node(\n            package='control_package',\n            executable='motor_controller',\n            name='motor_controller',\n            parameters=['config/motor_controller.yaml']\n        )\n    ])\n"})}),"\n",(0,r.jsx)(n.h3,{id:"advanced-launch-features",children:"Advanced Launch Features"}),"\n",(0,r.jsx)(n.h4,{id:"parameter-loading",children:"Parameter Loading"}),"\n",(0,r.jsx)(n.p,{children:"Launch files can load parameters from YAML files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# config/robot_params.yaml\npath_planner:\n  ros__parameters:\n    max_speed: 1.0\n    min_turn_radius: 0.5\n    planner_frequency: 5.0\n"})}),"\n",(0,r.jsx)(n.h4,{id:"node-remapping",children:"Node Remapping"}),"\n",(0,r.jsx)(n.p,{children:"Connect nodes that use different topic names:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"Node(\n    package='perception',\n    executable='object_detector',\n    remappings=[\n        ('/camera/image', '/front_camera/image_raw'),\n        ('/detected_objects', '/tracked_objects')\n    ]\n)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"conditional-launch",children:"Conditional Launch"}),"\n",(0,r.jsx)(n.p,{children:"Start nodes based on conditions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from launch.conditions import IfCondition\nfrom launch.substitutions import LaunchConfiguration\n\nuse_sim_time = LaunchConfiguration('use_sim_time')\n\nNode(\n    package='localization',\n    executable='amcl',\n    condition=IfCondition(LaunchConfiguration('localize'))\n)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameter-best-practices",children:"Parameter Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descriptive Names"}),": Use names that clearly indicate the parameter's purpose"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistent Structure"}),": Follow a consistent naming pattern across your system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hierarchical Names"}),": Use prefixes to group related parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parameter-declaration",children:"Parameter Declaration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Explicit Declaration"}),": Declare all parameters that your node accepts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default Values"}),": Provide sensible defaults for all parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation"}),": Validate parameter values during node initialization"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configuration-organization",children:"Configuration Organization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Separate Files"}),": Store related parameters in separate configuration files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment-Specific"}),": Create different parameter sets for different environments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version Control"}),": Track parameter files in version control alongside code"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"launch-system-best-practices",children:"Launch System Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"modularity",children:"Modularity"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Component Launch Files"}),": Create launch files for individual components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"System Assembly"}),": Combine component launch files into system launch files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameter Inheritance"}),": Allow child launch files to inherit parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Graceful Degradation"}),": Design systems that can operate with missing nodes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Startup Sequencing"}),": Ensure nodes that depend on others start in the right order"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"}),": Include nodes for system monitoring and health checking"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inline Comments"}),": Document the purpose of each node in launch files"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameter Descriptions"}),": Explain what each parameter controls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage Instructions"}),": Provide clear instructions for launching systems"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,r.jsx)(n.h3,{id:"mobile-robot-launch-system",children:"Mobile Robot Launch System"}),"\n",(0,r.jsx)(n.p,{children:"A mobile robot might have launch files for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Basic Navigation"}),": Localization, mapping, path planning, and control"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Perception Stack"}),": Object detection, tracking, and scene understanding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Safety Systems"}),": Collision avoidance and emergency stops"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simulation vs. Real"}),": Different launch files for simulation and real robot"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"humanoid-robot-configuration",children:"Humanoid Robot Configuration"}),"\n",(0,r.jsx)(n.p,{children:"A humanoid robot system might include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Joint Control Parameters"}),": PID gains for each joint"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Balance Parameters"}),": Center of mass, step planning parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensor Calibration"}),": Camera intrinsics, IMU offsets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Behavior Parameters"}),": Walking gait, arm motion parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"learning-summary",children:"Learning Summary"}),"\n",(0,r.jsx)(n.p,{children:"In this chapter, we've covered:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Parameters enable configuration management separate from code"}),"\n",(0,r.jsx)(n.li,{children:"Parameters support multiple data types and can be updated at runtime"}),"\n",(0,r.jsx)(n.li,{children:"Launch files allow coordinated startup of complex robotic systems"}),"\n",(0,r.jsx)(n.li,{children:"Launch files can load parameters, remap topics, and manage dependencies"}),"\n",(0,r.jsx)(n.li,{children:"Best practices include modular design, proper naming, and documentation"}),"\n",(0,r.jsx)(n.li,{children:"Real-world robots use parameters and launch systems for operational flexibility"}),"\n",(0,r.jsx)(n.li,{children:"Configuration management is essential for adapting robots to different environments"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"self-assessment-questions",children:"Self-Assessment Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"What is the difference between parameters and regular variables in ROS 2 nodes?"}),"\n",(0,r.jsx)(n.li,{children:"Why are launch files important for managing complex robotic systems?"}),"\n",(0,r.jsx)(n.li,{children:"What are the advantages of separating configuration from code?"}),"\n",(0,r.jsx)(n.li,{children:"Explain the purpose of parameter declaration in ROS 2 nodes."}),"\n",(0,r.jsx)(n.li,{children:"How can launch files handle different operational modes (e.g., simulation vs. real robot)?"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var r=i(6540);const a={},s=r.createContext(a);function t(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);